"use strict";(self.webpackChunkic_design_system=self.webpackChunkic_design_system||[]).push([[7046],{7046:function(e,t,s){s.r(t),s.d(t,{ic_date_picker:function(){return l}});var i=s(9917),a=s(2683),o=s(1060);const n=({focussed:e,today:t,day:s,monthInView:a,onFocusDay:n,onBlurDay:r,onSelectDay:h,selected:d,focussedDayRef:l,inRange:c,showDaysOutsideMonth:u,disableDay:y})=>{const b=(0,o.s)(o.e),m=(0,o.s)(o.f),p=!c||y,w=a!==s.getMonth(),f=p||w&&!u;return(0,i.h)("div",{class:"day-button-container"},(0,i.h)("button",{class:{"day-button":!0,"outside-month":w,"outside-range":p,hidden:w&&!u,disabled:f,today:t,selected:d,focussed:e},tabIndex:e?0:-1,"aria-hidden":w?"true":"false","aria-disabled":f?"true":"false","aria-current":t?"date":void 0,"aria-label":f||w||p?void 0:`Choose ${b[s.getDay()]}, ${s.getDate()} ${m[s.getMonth()]} ${s.getFullYear()}`,disabled:f,onClick:()=>{h(s)},onBlur:()=>{r()},onFocus:()=>{n()},ref:t=>{e&&t&&l&&l(t)}},(!w||w&&u)&&(0,i.h)("ic-typography",{variant:"subtitle-small",italic:w},s.getDate())))},r=({size:e,focussedMonth:t,monthInView:s,onSelectMonth:n,onKeyDown:r,focussedMonthRef:h,minDate:d,maxDate:l,yearInView:c})=>{const u=e=>{const t=e.target;n(Number(t.getAttribute("data-month")))},y=(0,o.s)(o.f);return(0,i.h)("div",{class:{"month-picker":!0},role:"list"},y.map(((o,n)=>{const y=s===n,b=t===n,m=!(0,a.d)(new Date(c,n,1),d?(0,a.a)(d):null,l?(0,a.g)(l):null);return(0,i.h)("ic-button",{role:"listitem",class:{"month-button":!0,selected:y,focussed:b,disabled:m},"full-width":!0,disabled:m,variant:y?"primary":"tertiary","data-month":n,size:e,tabIndex:b?0:-1,"aria-current":y?"true":"false","aria-label":y?"":`select ${o}`,onClick:u,onKeyDown:r,ref:e=>{b&&e&&h(e)}},o)})))},h=({decadeView:e,size:t,focussedYear:s,yearInView:o,onSelectYear:n,onFocusYear:r,onBlurYear:h,onKeyDown:d,minDate:l,maxDate:c,focussedYearRef:u})=>{const y=e=>{const t=e.target;n(Number(t.getAttribute("data-year")))},b=()=>{r()},m=()=>{h()},p=e=>{e.preventDefault()},w=e[0],f=e[11],g=e.slice(1,11);return(0,i.h)("div",{class:"year-picker",role:"list"},(0,i.h)("div",{class:"prev-decade","aria-hidden":"true"},(0,i.h)("ic-button",{id:"prev-decade-button",class:{"year-button":!0},disabled:!(0,a.y)(w,l,c),"data-year":w,tabIndex:-1,variant:"tertiary",onClick:y,onMouseDown:p,"aria-hidden":"true",size:t},w-9+"s",(0,i.h)("svg",{slot:"left-icon",width:"12",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,i.h)("path",{d:"M11.3333 5.33341H3.21996L6.94663 1.60675L5.99996 0.666748L0.666626 6.00008L5.99996 11.3334L6.93996 10.3934L3.21996 6.66675H11.3333V5.33341Z",fill:"currentColor"})))),g.map((e=>{const n=o===e,r=s===e;return(0,i.h)("ic-button",{class:{"year-button":!0,selected:n,focussed:r},disabled:!(0,a.y)(e,l,c),"data-year":e,tabIndex:r?0:-1,variant:n?"primary":"tertiary",onClick:y,"aria-label":n?"":`select ${e}`,role:"listitem","aria-current":n?"true":"false",onKeyDown:d,onFocus:b,onBlur:m,size:t,ref:e=>{r&&e&&u(e)}},e)})),(0,i.h)("div",{class:"next-decade","aria-hidden":"true"},(0,i.h)("ic-button",{id:"next-decade-button",class:{"year-button":!0,flip:!0},disabled:!(0,a.y)(f,l,c),"data-year":f,tabIndex:-1,variant:"tertiary",onClick:y,onMouseDown:p,"aria-hidden":"true",size:t},`${f}s`,(0,i.h)("svg",{slot:"right-icon",width:"12",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,i.h)("path",{d:"M11.3333 5.33341H3.21996L6.94663 1.60675L5.99996 0.666748L0.666626 6.00008L5.99996 11.3334L6.93996 10.3934L3.21996 6.66675H11.3333V5.33341Z",fill:"currentColor"})))))},d=100,l=class{constructor(e){(0,i.r)(this,e),this.icChange=(0,i.c)(this,"icChange",7),this.clearButtonEl=null,this.daysOfWeek=[],this.dayButtonFocussed=!1,this.dayPickerKeyboardNav=!1,this.dialogDescription="",this.focusDay=!0,this.liveRegionEl=null,this.monthNames=[],this.monthInViewUpdateHandled=!1,this.myCalendarButtonClicked=!1,this.showPickerAbove=!1,this.today=new Date,this.todayButtonEl=null,this.yearButtonFocussed=!1,this.setDecadeView=e=>{let t=e-1;const s=[];for(;t<=e+10;)s.push(t),t++;this.decadeView=s,this.decadeStart=s[1],this.decadeEnd=s[10]},this.setSelectedDate=(e,t=!0)=>{null!==e&&(0,a.b)(e,this.selectedDate)||(this.selectedDate=e,this.value=e,t&&this.inputEl.triggerIcChange(e))},this.handleCalendarMouseDown=e=>{"IC-BUTTON"!==e.target.tagName&&e.preventDefault()},this.handleCalendarClick=e=>{this.clearDialogDescription(),e.stopImmediatePropagation()},this.handleDocumentClick=()=>{this.calendarOpen=!1},this.keyDownHandler=e=>{"Escape"===e.key?this.calendarOpen&&(this.closeButtonClickHandler(),this.inputEl.setCalendarFocus(),e.stopImmediatePropagation()):(this.clearDialogDescription(),e.stopImmediatePropagation())},this.closeButtonClickHandler=()=>{this.calendarOpen=!1},this.focusFirstElement=()=>{this.monthButtonEl.setFocus()},this.focusLastElement=()=>{this.showPickerClearButton&&!this.clearButtonEl.disabled?this.clearButtonEl.setFocus():this.showPickerTodayButton&&!this.todayButtonEl.disabled?this.todayButtonEl.setFocus():this.monthPickerVisible?this.focussedMonthEl.setFocus():this.yearPickerVisible?this.focussedYearEl.setFocus():this.focussedDayEl.focus()},this.focusFocussedDay=()=>{this.focussedDayEl.focus()},this.monthButtonClickHandler=()=>{this.yearPickerVisible=!1,this.focusDay=!1,this.monthPickerVisible=!this.monthPickerVisible,this.monthPickerVisible?this.setAriaLiveRegionText("Month picker view open"):this.setMonthSelectedLiveRegionText()},this.yearButtonClickHandler=()=>{this.monthPickerVisible=!1,this.focusDay=!1,this.yearPickerVisible=!this.yearPickerVisible,this.yearPickerVisible?this.setAriaLiveRegionText(`Year picker view open. ${this.getDecadeInViewText()}`):this.setYearSelectedLiveRegionText()},this.todayButtonClickHandler=()=>{this.yearPickerVisible=!1,this.monthPickerVisible=!1,this.setFocussedDate(new Date),this.setAriaLiveRegionText(this.getMonthInViewText()),setTimeout((()=>this.focusFocussedDay()),d)},this.todayButtonKeyDownHandler=e=>{"Tab"===e.key&&!e.shiftKey&&this.clearButtonEl.disabled&&(this.focusFirstElement(),e.preventDefault())},this.clearButtonClickHandler=()=>{this.setSelectedDate(null);let e="Selected date cleared.";this.monthPickerVisible||this.yearPickerVisible||(e+=` ${this.getMonthInViewText()}`),this.monthPickerVisible?this.focussedMonthEl.setFocus():this.yearPickerVisible?this.focussedYearEl.setFocus():this.focusFocussedDay(),this.setAriaLiveRegionText(e)},this.setMonthSelectedLiveRegionText=()=>{this.setAriaLiveRegionText(`${this.monthNames[this.monthInView]} selected. ${this.getMonthInViewText()}`)},this.setYearSelectedLiveRegionText=()=>{this.setAriaLiveRegionText(`${this.yearInView} selected. ${this.getMonthInViewText()}`)},this.getMonthInViewText=()=>`${this.monthNames[this.monthInView]} ${this.yearInView} currently in view.`,this.getDecadeInViewText=()=>`${this.decadeStart} to ${this.decadeEnd} currently in view.`,this.setAriaLiveRegionText=e=>{this.liveRegionEl&&(this.liveRegionEl.innerText=e)},this.clearDialogDescription=()=>{this.dialogDescription=""},this.clearButtonKeyDownHandler=e=>{"Tab"!==e.key||e.shiftKey||(this.focusFirstElement(),e.preventDefault())},this.goToPreviousMonth=(e=!1)=>{this.focusDay=e,this.moveMonths(-1)},this.goToNextMonth=(e=!1)=>{this.focusDay=e,this.moveMonths(1)},this.goToPreviousYear=(e=!1)=>{this.isPrevYearAllowed()&&(this.focusDay=e,this.moveYears(-1))},this.goToNextYear=(e=!1)=>{this.isNextYearAllowed()&&(this.focusDay=e,this.moveYears(1))},this.navButtonMouseDownHandler=e=>{e.preventDefault()},this.renderMonthYearNavButton=(e,t,s)=>{const a=this.size;return(0,i.h)("div",{"aria-hidden":"true"},(0,i.h)("ic-button",{id:e,disableTooltip:!0,disabled:s,onClick:this.monthYearNavClickHandler,class:{flip:t},variant:"icon",innerHTML:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M9.70687 6L8.29688 7.41L12.8769 12L8.29688 16.59L9.70687 18L15.7069 12L9.70687 6Z" fill="currentColor"/>\n</svg>\n',size:a,tabIndex:-1,"aria-hidden":"true",onMouseDown:this.navButtonMouseDownHandler}))},this.monthYearNavClickHandler=e=>{switch(e.target.id){case"previous-month-button":this.goToPreviousMonth(this.dayButtonFocussed);break;case"next-month-button":this.goToNextMonth(this.dayButtonFocussed);break;case"previous-year-button":this.goToPreviousYear(this.dayButtonFocussed);break;case"next-year-button":this.goToNextYear(this.dayButtonFocussed)}},this.previousMonthButton=()=>{let e=!1;if(null!==this.focussedDate&&null!==this.minDate){this.focussedDate.getFullYear()===this.minDate.getFullYear()&&(e=this.monthInView-1<this.minDate.getMonth())}return this.renderMonthYearNavButton("previous-month-button",!0,e)},this.nextMonthButton=()=>{let e=!1;if(null!==this.focussedDate&&null!==this.maxDate){this.focussedDate.getFullYear()===this.maxDate.getFullYear()&&(e=this.monthInView+1>this.maxDate.getMonth())}return this.renderMonthYearNavButton("next-month-button",!1,e)},this.previousYearButton=()=>this.renderMonthYearNavButton("previous-year-button",!0,!this.isPrevYearAllowed()),this.nextYearButton=()=>this.renderMonthYearNavButton("next-year-button",!1,!this.isNextYearAllowed()),this.isPrevYearAllowed=()=>this.isYearAllowed(this.yearInView-1),this.isNextYearAllowed=()=>this.isYearAllowed(this.yearInView+1),this.isYearAllowed=e=>(0,a.y)(e,this.minDate,this.maxDate),this.getMonthView=e=>{const t=(0,a.c)((0,a.a)(e),this.startOfWeek),s=(0,a.e)((0,a.g)(e),this.startOfWeek),i=[];let o=t;for(;!(0,a.b)(o,s);)i.push(o),o=new Date(o),o.setDate(o.getDate()+1);return i.push(o),i},this.isCurrentMonth=()=>{const e=new Date;return e.getFullYear()===this.yearInView&&e.getMonth()===this.monthInView},this.updateMonthInView=()=>{this.currMonthView=this.getMonthView(this.focussedDate),this.focussedDay=this.focussedDate.getDate(),this.monthInView=this.focussedDate.getMonth(),this.yearInView=this.focussedDate.getFullYear(),this.dayPickerKeyboardNav&&(this.monthInViewUpdateHandled=!0,this.setAriaLiveRegionText(this.getMonthInViewText()),this.dayPickerKeyboardNav=!1)},this.handleSelectDay=e=>{this.setSelectedDate(e),this.calendarOpen=!1,this.inputEl.setCalendarFocus()},this.handleSelectMonth=e=>{this.moveMonths(e-this.monthInView),setTimeout((()=>{this.monthButtonEl.setFocus(),this.monthPickerVisible=!1,this.setMonthSelectedLiveRegionText()}),d)},this.handleSelectYear=e=>{const t=this.decadeView.indexOf(e);if(t>0&&t<this.decadeView.length-1){this.moveYears(e-this.yearInView),this.focusDay=!1;const t=this.monthNames[this.monthInView];this.setAriaLiveRegionText(`${e} selected. ${t} ${e} currently in view.`),setTimeout((()=>{this.yearButtonEl.setFocus(),this.yearPickerVisible=!1}),d)}else{const t=e-this.focussedYear>0?10:-10;this.updateFocussedYear(t,this.yearButtonFocussed),this.setAriaLiveRegionText(this.getDecadeInViewText())}},this.monthPickerKeyDownHandler=e=>{let t=!0;switch(e.key){case"ArrowUp":case"ArrowLeft":this.updateFocussedMonth(-1);break;case"ArrowDown":case"ArrowRight":this.updateFocussedMonth(1);break;case"Home":this.updateFocussedMonth(-this.focussedMonth);break;case"End":this.updateFocussedMonth(11-this.focussedMonth);break;case"Tab":t=this.calendarTabHandler(e);break;case"Escape":e.stopImmediatePropagation(),this.monthPickerVisible=!1,setTimeout((()=>this.focusFocussedDay()),d);break;default:t=!1}t&&e.preventDefault()},this.yearPickerKeyDownHandler=e=>{let t=!0;switch(e.key){case"ArrowUp":case"ArrowLeft":this.updateFocussedYear(-1);break;case"ArrowDown":case"ArrowRight":this.updateFocussedYear(1);break;case"Home":this.focussedYear>this.decadeStart&&this.updateFocussedYear(this.decadeStart-this.focussedYear);break;case"End":this.focussedYear<this.decadeEnd&&this.updateFocussedYear(this.decadeEnd-this.focussedYear);break;case"PageUp":this.updateFocussedYear(-10);break;case"PageDown":this.updateFocussedYear(10);break;case"Tab":t=this.calendarTabHandler(e);break;case"Escape":e.stopImmediatePropagation(),this.yearPickerVisible=!1,setTimeout((()=>this.focusFocussedDay()),d);break;default:t=!1}t&&e.preventDefault()},this.onYearButtonFocusHandler=()=>{this.yearButtonFocussed=!0},this.onYearButtonBlurHandler=()=>{this.yearButtonFocussed=!1},this.monthButtonKeyDownHandler=e=>{let t=!1;switch(e.key){case"ArrowLeft":case"ArrowUp":t=!0,this.goToPreviousMonth();break;case"ArrowRight":case"ArrowDown":t=!0,this.goToNextMonth();break;case"Home":t=!0,this.focusDay=!1,this.moveMonths(-this.monthInView);break;case"End":t=!0,this.focusDay=!1,this.moveMonths(11-this.monthInView);break;case"Tab":e.shiftKey&&(t=!0,this.focusLastElement());break;case"Escape":this.monthPickerVisible&&(this.monthPickerVisible=!1,e.stopImmediatePropagation())}t&&e.preventDefault()},this.yearButtonKeyDownHandler=e=>{let t=!1;switch(e.key){case"ArrowLeft":case"ArrowUp":t=!0,this.goToPreviousYear();break;case"ArrowRight":case"ArrowDown":t=!0,this.goToNextYear();break;case"Home":this.yearPickerVisible&&this.yearInView>this.decadeStart&&(t=!0,this.moveYears(this.decadeStart-this.yearInView));break;case"End":this.yearPickerVisible&&this.yearInView<this.decadeEnd&&(t=!0,this.moveYears(this.decadeEnd-this.focussedYear));break;case"PageUp":t=!0,this.focusDay=!1,this.moveYears(-10);break;case"PageDown":t=!0,this.focusDay=!1,this.moveYears(10);break;case"Escape":this.yearPickerVisible&&(this.yearPickerVisible=!1,e.stopImmediatePropagation())}t&&e.preventDefault()},this.handleCalendarKeyDown=e=>{let t=!0;switch(e.key){case"ArrowDown":this.dayPickerKeyboardNav=!0,this.moveDays(7);break;case"ArrowUp":this.dayPickerKeyboardNav=!0,this.moveDays(-7);break;case"ArrowLeft":this.dayPickerKeyboardNav=!0,this.moveDays(-1*this.getNextDayToFocus(this.focussedDate,!1));break;case"ArrowRight":this.dayPickerKeyboardNav=!0,this.moveDays(this.getNextDayToFocus(this.focussedDate,!0));break;case"PageUp":this.dayPickerKeyboardNav=!0,e.shiftKey?this.moveYears(-1):this.moveMonths(-1);break;case"PageDown":this.dayPickerKeyboardNav=!0,e.shiftKey?this.moveYears(1):this.moveMonths(1);break;case"Home":this.dayPickerKeyboardNav=!0,this.setFocussedDate(new Date(this.focussedYear,this.focussedMonth,1));break;case"End":this.dayPickerKeyboardNav=!0,this.setFocussedDate(new Date(this.focussedYear,this.focussedMonth+1,0));break;case"Tab":t=this.calendarTabHandler(e);break;default:t=!1}t&&e.preventDefault()},this.calendarTabHandler=e=>{let t=!1;return e.shiftKey||this.showPickerTodayButton&&!this.isCurrentMonth()||this.showPickerClearButton&&!this.clearButtonEl.disabled?e.shiftKey&&(this.yearButtonEl.setFocus(),t=!0):(this.focusFirstElement(),t=!0),t},this.onDayButtonFocusHandler=()=>{this.dayButtonFocussed=!0},this.onDayButtonBlurHandler=()=>{this.dayButtonFocussed=!1},this.getNextDayToFocus=(e,t,s=1)=>{const i=t?1:-1,a=new Date(e);a.setDate(a.getDate()+i);const o=Number(a.getDay());return this.disableDays.includes(o)?this.getNextDayToFocus(a,t,s+1):s},this.moveDays=e=>{const t=new Date(this.focussedDate);t.setDate(t.getDate()+e),this.setFocussedDate(t)},this.moveMonths=e=>{const t=this.focussedDate.getMonth()+e,s=new Date(new Date((0,a.a)(this.focussedDate)).setMonth(t)),i=(0,a.g)(s),o=new Date(new Date(this.focussedDate).setMonth(t));this.setFocussedDate((0,a.f)(o,s,i)),!1===this.monthPickerVisible&&!1===this.yearPickerVisible&&!1===this.monthInViewUpdateHandled&&this.setAriaLiveRegionText(this.getMonthInViewText()),this.monthInViewUpdateHandled=!1},this.moveYears=e=>{const t=this.focussedDate.getFullYear()+e,s=new Date(new Date((0,a.a)(this.focussedDate)).setFullYear(t)),i=(0,a.g)(s),o=new Date(new Date(this.focussedDate).setFullYear(t));this.setFocussedDate((0,a.f)(o,s,i)),!1===this.monthPickerVisible&&!1===this.yearPickerVisible&&!1===this.monthInViewUpdateHandled&&this.setAriaLiveRegionText(this.getMonthInViewText()),this.monthInViewUpdateHandled=!1},this.updateFocussedMonth=e=>{const t=new Date(this.focussedYear,this.focussedMonth,1);t.setMonth(this.focussedMonth+e);const s=(0,a.f)(t,this.minDate,this.maxDate);this.focussedMonth=s.getMonth(),setTimeout((()=>this.focussedMonthEl.setFocus()),d)},this.updateFocussedYear=(e,t=!0)=>{const s=new Date((new Date).setFullYear(this.focussedYear+e)),i=(0,a.f)(s,this.minDate,this.maxDate);this.setFocussedYear(i.getFullYear(),t)},this.setFocussedDate=e=>{this.focussedDate=(0,a.f)(e,this.minDate,this.maxDate)},this.setFocussedDayEl=e=>{this.focussedDayEl=e},this.setFocussedMonthEl=e=>{this.focussedMonthEl=e},this.setFocussedYearEl=e=>{this.focussedYearEl=e},this.setFocussedYear=(e,t=!0)=>{const s=this.focussedYear;if(this.focussedYear=e,this.yearPickerVisible){const i=10*Math.floor(e/10);i!==10*Math.floor(s/10)&&(this.setDecadeView(i),this.setAriaLiveRegionText(this.getDecadeInViewText())),t&&setTimeout((()=>{null!==this.focussedYearEl&&this.focussedYearEl.setFocus()}),d)}else this.setDecadeView(10*Math.floor(e/10))},this.setDateInputProps=()=>{const e={invalidDateMessage:this.invalidDateMessage,label:this.label,showClearButton:!0,showCalendarButton:!0,value:this.value};return"DD/MM/YYYY"!==this.dateFormat&&(e.dateFormat=this.dateFormat),this.disableFuture&&(e.disableFuture=this.disableFuture,"Dates in the future are not allowed. Please select a date in the past."!==this.disableFutureMessage&&(e.disableFutureMessage=this.disableFutureMessage)),this.disablePast&&(e.disablePast=this.disablePast,"Dates in the past are not allowed. Please select a date in the future."!==this.disablePastMessage&&(e.disablePastMessage=this.disablePastMessage)),this.disableDays.length>0&&(e.disableDays=this.disableDays,"The date you have selected is on a day of the week that is not allowed. Please select another date."!==this.disableDaysMessage&&(e.disableDaysMessage=this.disableDaysMessage)),null!==this.max&&""!==this.max&&(e.max=this.maxDate),null!==this.min&&""!==this.min&&(e.min=this.minDate),void 0!==this.helperText&&(e.helperText=this.helperText),!1!==this.hideHelperText&&(e.hideHelperText=this.hideHelperText),void 0!==this.inputId&&(e.inputId=this.inputId),void 0!==this.name&&(e.name=this.name),this.disabled&&(e.disabled=this.disabled),this.required&&(e.required=this.required),"default"!==this.size&&(e.size=this.size),""!==this.validationStatus&&(e.validationStatus=this.validationStatus),""!==this.validationText&&(e.validationText=this.validationText),e},this.calendarOpen=!1,this.currMonthView=[],this.currYearPickerView=[],this.decadeView=[],this.focussedDate=null,this.focussedDay=void 0,this.focussedDayEl=void 0,this.focussedMonth=void 0,this.focussedMonthEl=void 0,this.focussedYear=void 0,this.maxDate=null,this.minDate=null,this.monthInView=void 0,this.monthPickerVisible=!1,this.orderedDaysOfWeek=[],this.selectedDate=null,this.yearInView=void 0,this.yearPickerVisible=!1,this.dateFormat="DD/MM/YYYY",this.disabled=!1,this.disableDays=[],this.disableDaysMessage="The date you have selected is on a day of the week that is not allowed. Please select another date.",this.disableFuture=!1,this.disableFutureMessage="Dates in the future are not allowed. Please select a date in the past.",this.disablePast=!1,this.disablePastMessage="Dates in the past are not allowed. Please select a date in the future.",this.helperText=void 0,this.hideHelperText=!1,this.inputId=void 0,this.invalidDateMessage="Please enter a valid date.",this.label=void 0,this.max="",this.min="",this.name=void 0,this.openAtDate="",this.required=!1,this.showDaysOutsideMonth=!0,this.showPickerClearButton=!0,this.showPickerTodayButton=!0,this.size="default",this.startOfWeek=o.h.Monday,this.validationStatus="",this.validationText="",this.value=""}watchDisableFutureHandler(){this.watchMaxHandler()}watchDisablePastHandler(){this.watchMinHandler()}watchMaxHandler(){this.disableFuture?this.maxDate=new Date:this.maxDate=(0,a.h)(this.max,this.dateFormat)}watchMinHandler(){this.disablePast?this.minDate=new Date:this.minDate=(0,a.h)(this.min,this.dateFormat)}watchStartOfWeekHandler(){this.orderedDaysOfWeek=this.daysOfWeek.slice(this.startOfWeek).concat(this.daysOfWeek.slice(0,this.startOfWeek)),this.calendarOpen&&this.updateMonthInView()}watchOpenHandler(){if(this.calendarOpen){if(this.inputEl){let e=400;"small"===this.size?e=360:"large"===this.size&&(e=440),this.el.offsetTop+this.inputEl.offsetHeight+e>window.innerHeight&&this.el.offsetTop>e?this.showPickerAbove=!0:this.showPickerAbove=!1}if(null!==this.selectedDate&&(0,a.d)(this.selectedDate,this.minDate,this.maxDate))this.setFocussedDate(this.selectedDate);else{let e=new Date;""!==this.openAtDate&&(e=(0,a.h)(this.openAtDate,this.dateFormat)),this.setFocussedDate(e)}let e=this.getMonthInViewText();null===this.selectedDate&&(e+=" No date selected."),e+=" Use arrow keys to change day. Press enter or space to select a date or press escape to close the picker",this.dialogDescription=e,setTimeout((()=>this.focusFocussedDay()),d),document.addEventListener("click",this.handleDocumentClick)}else document.removeEventListener("click",this.handleDocumentClick),this.monthPickerVisible=!1,this.yearPickerVisible=!1}watchFocussedDateHandler(e,t){null!==t&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()||this.updateMonthInView()}watchMonthInViewHandler(){this.focussedMonth=this.monthInView}watchYearInViewHandler(){this.setFocussedYear(this.yearInView,!1)}watchYearPickerVisibleHandler(){this.yearPickerVisible||this.setFocussedYear(this.yearInView)}watchMonthPickerVisibleHandler(){this.monthPickerVisible||(this.focussedMonth=this.monthInView)}watchFocussedDayEl(){this.focusDay&&setTimeout((()=>this.focusFocussedDay()),d),this.focusDay=!0}componentWillLoad(){(0,o.o)([{prop:this.label,propName:"label"}],"Date Picker"),this.monthNames=(0,o.s)(o.f),this.daysOfWeek=(0,o.s)(o.j),this.watchStartOfWeekHandler(),this.watchMaxHandler(),this.watchMinHandler()}componentWillRender(){this.dateInputProps=this.setDateInputProps()}componentWillUpdate(){this.dateInputProps=this.setDateInputProps()}localCalendarButtonClickHandler(e){this.myCalendarButtonClicked=!0,this.calendarOpen||this.setSelectedDate(e.detail.value,!1),this.calendarOpen=!this.calendarOpen}calendarButtonClickHandler(){this.myCalendarButtonClicked||(this.calendarOpen=!1),this.myCalendarButtonClicked=!1}render(){const{calendarOpen:e,dateInputProps:t,monthNames:s,size:o,focussedMonth:d,focussedYear:l,monthInView:c,yearInView:u,monthPickerVisible:y,yearPickerVisible:b,orderedDaysOfWeek:m,decadeView:p,minDate:w,maxDate:f,showPickerClearButton:g,showPickerTodayButton:v,dialogDescription:D}=this;let k="";k=y?"Use the arrow keys to change the selected month. To return to day picker view, press Enter or Space to select a month, or press Escape.":"Press Enter or Space to open month picker view or use the arrow keys to change month.";let x="";x=b?"Use the arrow keys to change the selected year. To return to day picker view, press Enter or Space to select a year, or press Escape.":"Press Enter or Space to open year picker view or use the arrow keys to change the selected year.";const M=s&&s[c]?s[c]:"Open month picker",V=this.yearInView?this.yearInView:"Open year picker";let P=w;if(this.disablePast){const e=new Date(w);e.setDate(w.getDate()-1),P=e}return(0,i.h)(i.H,{onKeyDown:this.keyDownHandler,class:o},(0,i.h)("div",{class:"date-input-container"},(0,i.h)("ic-date-input",Object.assign({ref:e=>this.inputEl=e},t))),e&&(0,i.h)("div",null,(0,i.h)("span",{id:"dialog-description",class:"sr-only"},D),(0,i.h)("div",{role:"dialog","aria-modal":"true","aria-label":"choose date","aria-describedBy":"dialog-description",class:{"calendar-container":!0,above:this.showPickerAbove},onMouseDown:this.handleCalendarMouseDown,onClick:this.handleCalendarClick},(0,i.h)("span",{ref:e=>this.liveRegionEl=e,id:"live-region","aria-live":"assertive",class:"sr-only"}),(0,i.h)("div",{class:{"month-year-nav-container":!0}},(0,i.h)("div",{class:"month-year-nav"},this.previousMonthButton(),(0,i.h)("span",{id:"select-month-hint","aria-hidden":"true"},k),(0,i.h)("ic-button",{ref:e=>this.monthButtonEl=e,size:o,class:"month-picker-button","aria-haspopup":"menu","aria-expanded":y?"true":"false","full-width":"true",variant:"tertiary","aria-label":M,"aria-describedby":"select-month-hint",onKeyDown:this.monthButtonKeyDownHandler,onClick:this.monthButtonClickHandler},s[c]),this.nextMonthButton()),(0,i.h)("div",{class:"month-year-nav"},this.previousYearButton(),(0,i.h)("span",{id:"select-year-hint","aria-hidden":"true"},x),(0,i.h)("ic-button",{ref:e=>this.yearButtonEl=e,size:o,class:"year-picker-button","aria-haspopup":"menu","aria-expanded":b?"true":"false","full-width":"true",variant:"tertiary","aria-label":V,"aria-describedby":"select-year-hint",onKeyDown:this.yearButtonKeyDownHandler,onClick:this.yearButtonClickHandler},this.yearInView),this.nextYearButton())),!(y||b)&&(0,i.h)("div",{class:{calendar:!0,hidden:y||b},onKeyDown:this.handleCalendarKeyDown},(0,i.h)("div",{class:"weekdays","aria-hidden":"true"},m.map((e=>{const t="small"===o?e.charAt(0):e;return(0,i.h)("div",{class:"calendar-day-header"},(0,i.h)("ic-typography",{variant:"caption"},t))}))),(0,i.h)("div",{class:"calendar-days-container"},this.currMonthView.map((e=>(0,i.h)(n,{day:e,disableDay:this.disableDays.includes(Number(e.getDay())),today:(0,a.b)(e,this.today),selected:(0,a.b)(e,this.selectedDate),focussed:(0,a.b)(e,this.focussedDate),inRange:(0,a.d)(e,P,f),monthInView:c,onSelectDay:this.handleSelectDay,focussedDayRef:this.setFocussedDayEl,onFocusDay:this.onDayButtonFocusHandler,onBlurDay:this.onDayButtonBlurHandler,showDaysOutsideMonth:this.showDaysOutsideMonth}))))),(0,i.h)("div",{class:{"month-picker-container":!0,hidden:!y}},y&&(0,i.h)(r,{size:o,onSelectMonth:this.handleSelectMonth,monthInView:c,focussedMonth:d,onKeyDown:this.monthPickerKeyDownHandler,focussedMonthRef:this.setFocussedMonthEl,minDate:w,maxDate:f,yearInView:u})),(0,i.h)("div",{class:{"year-picker-container":!0,hidden:!b}},b&&(0,i.h)(h,{decadeView:p,size:o,focussedYear:l,onSelectYear:this.handleSelectYear,onKeyDown:this.yearPickerKeyDownHandler,onFocusYear:this.onYearButtonFocusHandler,onBlurYear:this.onYearButtonBlurHandler,yearInView:u,minDate:w,maxDate:f,focussedYearRef:this.setFocussedYearEl})),(0,i.h)("div",{class:{"bottom-buttons":!0,"no-today":!v}},v&&(0,i.h)("ic-button",{id:"today-button",variant:"tertiary",ref:e=>this.todayButtonEl=e,size:o,"aria-label":"Navigate to current date",onClick:this.todayButtonClickHandler,onKeyDown:this.todayButtonKeyDownHandler,disabled:this.isCurrentMonth()},"Go to today"),g&&(0,i.h)("ic-button",{id:"clear-button","aria-label":"clear selected date",ref:e=>this.clearButtonEl=e,variant:"tertiary",size:o,onClick:this.clearButtonClickHandler,onKeyDown:this.clearButtonKeyDownHandler,disabled:""===this.value||null===this.value||void 0===this.value},"Clear")))))}static get delegatesFocus(){return!0}get el(){return(0,i.g)(this)}static get watchers(){return{disableFuture:["watchDisableFutureHandler"],disablePast:["watchDisablePastHandler"],max:["watchMaxHandler"],min:["watchMinHandler"],startOfWeek:["watchStartOfWeekHandler"],calendarOpen:["watchOpenHandler"],focussedDate:["watchFocussedDateHandler"],monthInView:["watchMonthInViewHandler"],yearInView:["watchYearInViewHandler"],yearPickerVisible:["watchYearPickerVisibleHandler"],monthPickerVisible:["watchMonthPickerVisibleHandler"],focussedDayEl:["watchFocussedDayEl"]}}};l.style='/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace, monospace;font-size:1em;}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em;}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font-style:inherit;vertical-align:baseline}:host{display:block;position:relative;--month-year-picker-button-width:5rem;--month-button-width:5.5rem;--input-field-width:var(--input-width, 19.125rem)}:host(.large){--month-button-width:6.3125rem;--input-field-width:var(--input-width, 21.125rem)}:host(.small){--month-button-width:6.25rem;--input-field-width:var(--input-width, 17.125rem)}:host .date-input-container{position:relative}ic-date-input{--input-width:var(--input-field-width)}:host .calendar-container{min-width:19rem;max-width:23.5rem;width:var(--input-width);display:flex;flex-direction:column;gap:var(--ic-space-xs);position:absolute;border:var(--ic-border-default);border-radius:var(--ic-border-radius);align-items:center;background-color:var(--ic-architectural-white);z-index:var(--ic-z-index-date-picker);box-sizing:border-box;box-shadow:var(--ic-elevation-overlay);margin-top:var(--ic-space-xxxs);padding:var(--ic-space-xs);animation:fade-in-calendar var(--ic-transition-duration-slow)}:host(.small) .calendar-container{min-width:17rem;max-width:21.5rem}:host(.large) .calendar-container{min-width:21rem;max-width:25.5rem}:host .calendar-container.above{bottom:calc(var(--ic-space-xxl) - var(--ic-space-xxs))}:host .month-year-nav-container{display:flex;justify-content:space-between;align-items:center;align-self:stretch}:host .month-year-nav-container.hidden{display:none}:host .month-year-nav{display:flex;justify-content:space-between;align-items:center;flex:1 0 0}:host .month-picker,:host .year-picker{flex-wrap:wrap;display:inline-flex;align-items:center;width:17.5rem;-moz-column-gap:var(--ic-space-xs);column-gap:var(--ic-space-xs);row-gap:var(--ic-space-xxs)}:host(.small) .month-picker,:host(.small) .year-picker{width:13.125rem}:host(.large) .month-picker,:host(.large) .year-picker{width:20rem}:host .month-picker-button,:host .year-picker-button{width:5rem;--min-width:5rem}:host .month-button,:host .year-button{width:var(--month-button-width)}:host .month-button.focussed,:host .year-button.focussed{z-index:1}:host .month-button::part(button),:host .year-button::part(button){min-width:var(--month-button-width)}:host .prev-decade .year-button svg{margin-right:calc(-1 * var(--ic-space-xl));padding-top:var(--ic-space-sm)}:host .prev-decade .year-button::part(button){padding-left:0;padding-right:var(--ic-space-lg)}:host(.small) .prev-decade .year-button::part(button){padding-left:0;padding-right:calc(var(--ic-space-lg) + var(--ic-space-xxs))}:host .next-decade .year-button svg{margin-left:calc(-1 * var(--ic-space-xl));padding-top:var(--ic-space-sm)}:host .next-decade .year-button::part(button){padding-right:0;padding-left:var(--ic-space-lg)}:host(.small) .next-decade .year-button::part(button),:host(.large) .next-decade .year-button::part(button){padding-left:var(--ic-space-xl)}:host .bottom-buttons{padding-top:var(--ic-space-xs);display:flex;justify-content:space-between;align-items:center;align-self:stretch;animation:fade-in-buttons var(--ic-transition-duration-slow)}:host(.small) .bottom-buttons{padding-top:var(--ic-space-xxs)}:host .bottom-buttons.no-today{align-items:flex-end;flex-direction:column}:host .bottom-buttons.hidden{display:none}:host .calendar{display:flex;flex-direction:column;align-items:flex-start;width:15.75rem;animation:fade-in-buttons var(--ic-transition-duration-slow)}:host(.large) .calendar{width:19.25rem}:host(.small) .calendar{padding-bottom:var(--ic-space-xxs);width:14rem}:host .hidden{display:none}:host .weekdays{display:flex;justify-content:space-between;align-items:flex-start;padding-bottom:var(--ic-space-xs);align-self:stretch}:host .calendar-days-container{display:flex;flex-wrap:wrap;justify-content:space-between;row-gap:var(--ic-space-xs);padding:var(--ic-space-xxs) 0}:host(.small) .calendar-days-container{padding:var(--ic-space-xxxs) 0}:host(.large) .calendar-days-container{padding:var(--ic-space-xs) 0}:host .calendar-day-header{display:flex;width:2rem;padding:var(--ic-space-xxs) 0;justify-content:center;align-items:center}:host(.small) .calendar-day-header,:host(.large) .calendar-day-header{padding:var(--ic-space-xxs)}:host .calendar-day-header ic-typography{color:var(--ic-color-tertiary-text);text-align:center}:host .day-button-container{display:flex;justify-content:center;align-items:center;width:2.25rem;height:2.25rem}:host(.small) .day-button-container{width:2rem;height:2rem}:host(.large) .day-button-container{width:2.5rem;height:2.5rem}:host .day-button{display:flex;position:relative;justify-content:center;align-items:center;border:0;border-radius:2rem;background-color:var(--ic-architectural-white);width:2rem;height:2rem;cursor:pointer;transition:var(--ic-easing-transition-fast);z-index:0}:host .day-button.disabled{cursor:default}:host(.large) .day-button{width:2.25rem;height:2.25rem}:host(.small) .day-button{width:1.75rem;height:1.75rem}:host .day-button ic-typography{width:1.75rem;color:var(--ic-color-primary-text)}:host .day-button.outside-range ic-typography{color:var(--ic-architectural-400)}:host .day-button.outside-month ic-typography{font-weight:var(--ic-font-weight-regular) !important}:host .day-button.outside-month:not(.outside-range):not(.selected) ic-typography{color:var(--ic-color-primary-text)}:host .day-button:hover:not(.disabled){background-color:var(--ic-action-dark-bg-hover)}:host .day-button:active:not(.disabled){background-color:var(--ic-action-dark-bg-active)}@media (prefers-reduced-motion: no-preference){:host .day-button:hover:not(.disabled):not(.focussed),:host .day-button:active:not(.disabled):not(.focussed){transition:background-color var(--ic-transition-duration-slow) ease-in-out}}:host .day-button.selected:not(.hidden){background-color:var(--ic-action-default)}:host .day-button.selected ic-typography{color:var(--ic-color-white-text)}:host .day-button.selected:not(.hidden):hover{background-color:var(--ic-action-default-hover)}:host .day-button.selected:not(.hidden):active{background-color:var(--ic-action-default-active)}:host .day-button.focussed{z-index:1}:host .day-button:focus{outline:none}:host .day-button.focussed:focus{box-shadow:var(--ic-border-focus)}:host .day-button.today:not(.hidden)::after{content:"";position:absolute;width:0.875rem;height:0.125rem;bottom:0.4rem;border-radius:var(--ic-border-radius);background-color:var(--ic-action-default)}:host(.small) .day-button.today::after{bottom:0.35rem}:host(.large) .day-button.today::after{width:1rem}:host .day-button.today.selected::after{background-color:var(--ic-architectural-white)}:host #select-month-hint,:host #select-year-hint{display:none}.sr-only{position:absolute;left:-9999px}@media (prefers-reduced-motion: reduce){:host .calendar-container,:host .calendar,:host .bottom-buttons{animation:none}}@keyframes fade-in-buttons{0%{opacity:0}50%{opacity:0}100%{opacity:1}}@keyframes fade-in-calendar{0%{display:flex;max-height:0}100%{display:flex;max-height:600px}}@media (forced-colors: active){:host .day-button.today:not(.hidden)::after{background-color:highlight}:host .day-button.selected:not(.hidden){background-color:highlight}:host .day-button.focussed:focus{border:var(--ic-hc-border)}:host .month-button.selected::part(button),:host .year-button.selected::part(button){background-color:highlight}}'}}]);